<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–¢—Ä–µ–∫–∏ ‚Äî –õ—É—á—à–∏–µ —Ö–∏—Ç—ã</title>
<style>
 body { font-family: Arial, sans-serif; max-width: 1000px; margin: 20px auto; padding: 20px; }
 .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
 .actions a, .actions button, .inline-form button { margin-right: 8px; padding: 8px 16px; background:#007cba; color:#fff; text-decoration:none; border:none; border-radius:4px; cursor:pointer; }
 .actions a:hover, .actions button:hover, .inline-form button:hover { background:#005a85; }
 table { width:100%; border-collapse:collapse; margin-top:20px; }
 th, td { border:1px solid #ddd; padding:10px; text-align:left; vertical-align:top; }
 th { background:#f7f7f7; }
 input[type=text], input[type=file] { width:100%; padding:8px; border:1px solid #ccc; border-radius:4px; box-sizing:border-box; }
 img.hint { max-height:60px; border-radius:6px; }
 .tools { margin: 10px 0 20px 0; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
 .inline-form { display:inline-flex; align-items:center; gap:8px; }
 .inline-form input[type=file] { width:auto; }
</style>
</head>
<body>
<div class="header">
  <h1>üé∂ –õ—É—á—à–∏–µ —Ö–∏—Ç—ã ‚Äî —Ç—Ä–µ–∫–∏</h1>
  <div class="actions">
    <a href="/admin_web/broadcasts">üì£ –†–∞—Å—Å—ã–ª–∫–∏</a>
    <a href="/admin_web/logout">–í—ã–π—Ç–∏</a>
  </div>
</div>

<div class="tools">
  <a class="btn" href="/admin_web/backup">üíæ –°–∫–∞—á–∞—Ç—å –±—ç–∫–∞–ø</a>
  <form class="inline-form" action="/admin_web/restore" method="post" enctype="multipart/form-data" onsubmit="return confirm('–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª—ã –≤ uploads –∏ –±–∞–∑—É?');">
    <input type="file" name="archive" accept=".zip" required>
    <button>üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∞—Ä—Ö–∏–≤–∞</button>
  </form>
</div>

<h2>–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–∫</h2>
<form action="/admin_web/upload" method="post" enctype="multipart/form-data">
  <p><label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ö–∏—Ç–∞<br><input type="text" name="title" placeholder="–ù–∞–ø—Ä. Michael Jackson ‚Äî Billie Jean"></label></p>

  <p><label>üéµ –°—Å—ã–ª–∫–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫—É (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)<br><input type="text" name="yandex_url" placeholder="https://music.yandex.ru/..."></label></p>
  <p><label>üéµ –°—Å—ã–ª–∫–∞ –Ω–∞ Apple Music (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)<br><input type="text" name="apple_url" placeholder="https://music.apple.com/..."></label></p>

  <p><label>MP3 (–±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∫–∞–∫ ¬´–ú—É–∑—ã–∫–∞–ª—å–Ω–æ–µ –±–∏–Ω–≥–æ ‚Äî 01.mp3¬ª –∏ —Ç.–¥.)<br><input type="file" name="audio" accept="audio/*" required></label></p>
  <p><label>–ö–∞—Ä—Ç–∏–Ω–∫–∞-–ø–æ–¥—Å–∫–∞–∑–∫–∞<br><input type="file" name="hint" accept="image/*"></label></p>
  <p><button>–ó–∞–≥—Ä—É–∑–∏—Ç—å</button></p>
</form>

<h2>–°–ø–∏—Å–æ–∫</h2>
<table>
  <tr><th>ID</th><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th><th>–ü–æ–¥—Å–∫–∞–∑–∫–∞</th><th>–§–∞–π–ª</th><th>–î–µ–π—Å—Ç–≤–∏—è</th></tr>
  {% for id, title, hint_image, file_field, yandex_url, apple_url in items %}
  <tr>
    <td>{{ id }}</td>
    <td>
      {{ title }}
      <form method="post" action="/admin_web/links/{{ id }}" style="margin-top:10px;">
        <p style="margin:6px 0;"><label>üéµ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∞<br><input type="text" name="yandex_url" value="{{ yandex_url }}"></label></p>
        <p style="margin:6px 0;"><label>üéµ Apple Music<br><input type="text" name="apple_url" value="{{ apple_url }}"></label></p>
        <p style="margin:6px 0;"><button>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫–∏</button></p>
      </form>
    </td>
    <td>{% if hint_image %}<img class="hint" src="/{{ hint_image }}">{% else %}‚Äî{% endif %}</td>
    <td>{{ file_field }}</td>
    <td>
      <a href="/admin_web/edit/{{ id }}">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
      <form method="post" action="/admin_web/delete/{{ id }}" style="display:inline" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å?')">
        <button>–£–¥–∞–ª–∏—Ç—å</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
</body>
</html>
